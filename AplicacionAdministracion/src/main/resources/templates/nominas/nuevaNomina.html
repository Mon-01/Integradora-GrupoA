<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Nueva Nómina</title>
    <style>
        .form-group { margin-bottom: 15px; }
        input, select { width: 100%; padding: 8px; }
        table { width: 100%; border-collapse: collapse; }
        th, td { border: 1px solid #ddd; padding: 8px; }
        .error { color: red; font-size: 0.8em; }
        .devengo { background-color: #e6ffe6; }
        .deduccion { background-color: #ffe6e6; }
        .tipo-calculado { display: flex; gap: 10px; }
        .tipo-calculado select { flex: 1; }
        .tipo-calculado input { flex: 2; }
    </style>
</head>
<body>
<h1>Nueva Nómina</h1>
<form id="nominaForm">
    <div class="form-group">
        <label>Fecha:</label>
        <input type="text" id="fecha" name="fecha" required>
    </div>

    <div class="form-group">
        <label>Empleado:</label>
        <select id="empleadoId" name="empleadoId" required>
            <option value="">Seleccione...</option>
            <option th:each="emp : ${empleados}" th:value="${emp.id_empleado}" th:text="${emp.nombre + ' ' + emp.apellido}"></option>
        </select>
    </div>


    <h3>Líneas</h3>
    <table id="lineas">
        <thead>
        <tr>
            <th>Concepto*</th>
            <th>Tipo y Cálculo*</th>
            <th>Importe (calculado)</th>
            <th>Acciones</th>
        </tr>
        </thead>
        <tbody>
        <!-- Las filas se agregarán dinámicamente -->
        </tbody>
    </table>

    <div>
        <strong>Total: </strong><span id="totalNomina">0.00 €</span>
    </div>

    <button type="button" onclick="agregarLinea()">Añadir Línea</button>
    <button type="button" onclick="guardarNomina()">Guardar</button>
</form>

<script src="/js/CrearNuevaNomina.js"></script>
</body>
</html>
